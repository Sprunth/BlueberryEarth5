@page "/ocean"
@inject AppState AppState
@implements IDisposable

<h3>Ocean</h3>

<p>Blueberry Mush: @AppState.GetResourceValue(ResourceType.BlueberryMush)</p>
<button class="btn btn-primary" @onclick="Mush">Mush</button>

<h3>Buildings</h3>

<p>Blueberry Bricks: @AppState.GetResourceValue(ResourceType.BlueberryBrick)</p>
<button class="btn btn-primary" @onclick="MakeBrick">Make Brick</button>

<div class="progress">
	<div class="progress-bar" role="progressbar" style="width: 50%" aria-valuenow="50" aria-valuemin="0" aria-valuemax="100"></div>
</div>

@code {
	protected override void OnInitialized()
	{
		AppState.OnChange += StateHasChanged;
	}

	public void Dispose() => AppState.OnChange -= StateHasChanged;

	protected void Mush()
	{

		AppState.ModifyResourceValue(ResourceType.BlueberryMush, 1);
	}

	protected void MakeBrick()
	{
		AppState.ModifyResourceValue(ResourceType.BlueberryBrick, 1);
		AppState.ModifyResourceValue(ResourceType.BlueberryMush, -5);
	}

}
