@page "/ocean"
@inject AppState AppState
@implements IDisposable

<h3>Ocean</h3>

<p>Blueberry Mush: @AppState.GetResourceValue(ResourceType.BlueberryMush)</p>
<button class="btn btn-primary" @onclick="Mush">Mush</button>

<h3>Buildings</h3>

<p>Blueberry Bricks: @AppState.GetResourceValue(ResourceType.BlueberryBrick)</p>
<button class="btn btn-primary" @onclick="MakeBrick">Make Brick</button>

<p>Blueberry Musher: @AppState.GetResourceValue(ResourceType.BlueberryMusher)</p>
<button class="btn btn-secondary" @onclick="MakeMusher">Make Musher</button>

@code {
	protected override void OnInitialized()
	{
		AppState.OnChange += StateHasChanged;
	}

	public void Dispose() => AppState.OnChange -= StateHasChanged;

	protected void Mush()
	{

		AppState.ModifyResourceValue(ResourceType.BlueberryMush, 1);
	}

	protected void MakeBrick()
	{
		AppState.ModifyResourceValue(ResourceType.BlueberryBrick, 1);
		AppState.ModifyResourceValue(ResourceType.BlueberryMush, -5);
	}

	protected void MakeMusher()
	{
		AppState.ModifyResourceValue(ResourceType.BlueberryMusher, 1);
		AppState.ModifyResourceValue(ResourceType.BlueberryBrick, -10);
	}

}
